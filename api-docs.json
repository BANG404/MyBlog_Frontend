{"openapi":"3.0.1","info":{"title":"MyBlog API 文档","description":"个人博客系统 API 接口文档","contact":{"name":"ibat","url":"https://github.com/yourusername","email":"example@email.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"JWT":[]}],"tags":[{"name":"分享链接管理","description":"分享链接相关接口"},{"name":"媒体管理","description":"音乐和视频管理接口"},{"name":"博客文章管理","description":"博客文章的CRUD接口"},{"name":"认证管理","description":"用户登录注册相关接口"},{"name":"文件管理","description":"文件上传下载接口"}],"paths":{"/api/blog/{postId}":{"put":{"tags":["博客文章管理"],"summary":"更新博客文章","description":"更新已有的博客文章","operationId":"updatePost","parameters":[{"name":"postId","in":"path","description":"文章ID","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPost"}}},"required":true},"responses":{"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPost"}}}}}},"delete":{"tags":["博客文章管理"],"summary":"删除博客文章","operationId":"deletePost","parameters":[{"name":"postId","in":"path","description":"要删除的文章ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"删除成功"}}}},"/api/files/upload":{"post":{"tags":["文件管理"],"summary":"上传文件","description":"上传单个文件","operationId":"uploadFile","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"要上传的文件","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/blog/create":{"post":{"tags":["博客文章管理"],"summary":"创建博客文章","description":"创建一篇新的博客文章","operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPost"}}},"required":true},"responses":{"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPost"}}}}}}},"/api/auth/register":{"post":{"tags":["认证管理"],"summary":"用户注册","description":"注册新用户","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"注册成功返回用户信息","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}}}}},"/api/auth/login":{"post":{"tags":["认证管理"],"summary":"用户登录","description":"通过用户名密码登录获取token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"登录成功返回token","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}}}},"/api/shared-links/latest":{"get":{"tags":["分享链接管理"],"summary":"获取最新分享链接列表","description":"根据传入的limit参数获取指定数量的最新分享链接","operationId":"getLatestSharedLinks","parameters":[{"name":"limit","in":"query","description":"获取链接数量","required":false,"schema":{"type":"integer","format":"int32","default":5},"example":5}],"responses":{"200":{"description":"获取成功","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SharedLink"}}}}},"500":{"description":"服务器内部错误","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SharedLink"}}}}},"400":{"description":"参数错误","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SharedLink"}}}}}}}},"/api/rss":{"get":{"tags":["rss-controller"],"operationId":"getRssFeed","responses":{"200":{"description":"OK","content":{"application/xml":{"schema":{"type":"string"}}}}}}},"/api/media/{type}/latest":{"get":{"tags":["媒体管理"],"summary":"获取指定类型的最新媒体","description":"获取用户最新分享的指定类型(音乐/视频)的媒体","operationId":"getLatestByType","parameters":[{"name":"type","in":"path","description":"媒体类型(music/movie)","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","description":"用户ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Media"}}}}}}},"/api/media/latest":{"get":{"tags":["媒体管理"],"summary":"获取最新媒体","description":"获取用户最新分享的音乐和视频","operationId":"getLatestMedia","parameters":[{"name":"userId","in":"query","description":"用户ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Media"}}}}}}}},"/api/blog/posts":{"get":{"tags":["博客文章管理"],"summary":"获取已发布的博客文章列表","description":"分页获取已发布的文章","operationId":"getPublishedPosts","parameters":[{"name":"page","in":"query","description":"页码，从0开始","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"每页数量","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBlogPostListDTO"}}}}}}},"/api/auth/check-user-exists":{"get":{"tags":["认证管理"],"summary":"检查用户存在","description":"检查数据库中是否存在用户","operationId":"checkUserExists","responses":{"200":{"description":"返回检查结果","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/files/{fileId}":{"delete":{"tags":["文件管理"],"summary":"删除文件","description":"通过文件ID删除已上传的文件","operationId":"deleteFile","parameters":[{"name":"fileId","in":"path","description":"要删除的文件ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"BlogPost":{"type":"object","properties":{"postId":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"title":{"type":"string"},"content":{"type":"string"},"status":{"type":"string"},"viewCount":{"type":"integer","format":"int32"},"publishedAt":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"preview":{"type":"string"}},"description":"博客文章内容"},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"blogName":{"type":"string"}},"description":"注册信息"},"UserInfo":{"type":"object","properties":{"username":{"type":"string"},"avatar":{"type":"string"},"email":{"type":"string"},"wechatId":{"type":"string"},"bio":{"type":"string"},"blogName":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"description":"登录信息"},"LoginResponse":{"type":"object","properties":{"token":{"type":"string"},"userInfo":{"$ref":"#/components/schemas/UserInfo"}}},"SharedLink":{"type":"object","properties":{"linkId":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"blogPostId":{"type":"integer","format":"int32"},"icon":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Media":{"type":"object","properties":{"mediaId":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"blogPostId":{"type":"integer","format":"int32"},"title":{"type":"string"},"picture":{"type":"string"},"type":{"type":"string"},"url":{"type":"string"},"artist":{"type":"string"},"publishDate":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"BlogPostListDTO":{"type":"object","properties":{"postId":{"type":"integer","format":"int32"},"title":{"type":"string"},"preview":{"type":"string"},"status":{"type":"string"},"viewCount":{"type":"integer","format":"int32"},"publishedAt":{"type":"string","format":"date-time"}}},"PageBlogPostListDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BlogPostListDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"unpaged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"},"empty":{"type":"boolean"}}}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"x-openapi":{"x-setting":{"customCode":200,"language":"zh-CN","enableSwaggerModels":true,"swaggerModelName":"å®ä½ç±»åè¡¨","enableReloadCacheParameter":false,"enableAfterScript":true,"enableDocumentManage":true,"enableVersion":false,"enableRequestCache":true,"enableFilterMultipartApis":false,"enableFilterMultipartApiMethodType":"POST","enableHost":false,"enableHostText":"","enableDynamicParameter":false,"enableDebug":true,"enableFooter":true,"enableFooterCustom":false,"enableSearch":true,"enableOpenApi":true,"enableHomeCustom":false,"enableGroup":true,"enableResponseCode":true},"x-markdownFiles":[]}}